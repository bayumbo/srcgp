<header>
  <div class="nav-container">
    <div class="navbar-brand">
      <a routerLink="/" class="home-link">
        <mat-icon>home</mat-icon>
        <span>Inicio</span>
      </a>
      <button class="menu-toggle" (click)="menuAbierto = !menuAbierto">
        <mat-icon>menu</mat-icon>
      </button>
    </div>

    <nav [class.abierto]="menuAbierto">
      <ul class="menu">
        <!-- SubmenÃº Cuentas -->
        <li class="submenu-container" (click)="toggleSubmenu('codificacion', $event)">
          <a href="">CodificaciÃ³n</a>
          <ul class="submenu"[class.visible]="submenus.codificacion">
            <li><a routerLink="/contabilidad/agregar-cuenta">Catalogo de Cuentas</a></li>
            <li><a routerLink="/contabilidad/documentos">Documentos Contabilidad</a></li>
            <li><a routerLink="/contabilidad/centro-costos">Centro de Costos</a></li>
          </ul>
        </li>

        <!-- SubmenÃº Comprobante -->
        <li class="submenu-container" (click)="toggleSubmenu('transacciones', $event)">
          <a href="">Transacciones</a>
          <ul class="submenu"[class.visible]="submenus.transacciones">
            <li><a routerLink="/contabilidad/asiento-apertura">Asiento de Apertura</a></li>
            <li><a routerLink="/contabilidad/comprobante-egresos">Comprobante de Egresos</a></li>
            <li><a routerLink="/contabilidad/comprobante-ingresos">Comprobante de Ingresos</a></li>
            <li><a routerLink="/contabilidad/transaccion-general">Transacciones Generales</a></li>
            <li><a routerLink="/contabilidad/compras-varias">Compras Varias</a></li>
          </ul>
        </li>

        <!-- SubmenÃº Libro Diario -->
        <li class="submenu-container" (click)="toggleSubmenu('libros', $event)">
          <a href="">Libros Contables</a>
          <ul class="submenu"[class.visible]="submenus.libros">
            <li><a routerLink="/contabilidad/libdiario">Libro Diario</a></li>
            <li><a routerLink="/contabilidad/libmayor">Libro Mayor</a></li>
          </ul>
        </li>

        <!-- Enlaces restantes -->
        <li><a routerLink="/contabilidad/estados">Estados Financieros</a></li>
        <li><a routerLink="/contabilidad/estado-resultados">Estado de Resultados</a></li>
        <li><a routerLink="/contabilidad/balances">Balances de comprobaciÃ³n</a></li>
      </ul>
    </nav>
  </div>
</header>



  <div id="preloader">
    <div class="preloader">
      <span></span><span></span><span></span><span></span>
    </div>
  </div>
 <!-- NO TOCAR, HASTA AQUI CONFIGURACION BASICA DEL MENU ğŸ”¥ğŸ“Œ-->


 <div class="libro-mayor-container">
  <h5>Libro Mayor</h5>

  <form [formGroup]="formFiltro" (ngSubmit)="filtrarLibroMayor()">
    <div class="filtros">
      <div class="form-group">
        <label>ğŸ“… Fecha de inicio:</label>
        <input type="date" formControlName="fechaInicio" />
      </div>
      <div class="form-group">
        <label>ğŸ“… Fecha de finalizaciÃ³n:</label>
        <input type="date" formControlName="fechaFin" />
      </div>
      <div class="form-group">
        <label>ğŸ“‚ Cuenta contable:</label>
        <select formControlName="cuenta">
          <option value="">Todas</option>
          <option *ngFor="let cuenta of cuentasUnicas" [value]="cuenta">{{ cuenta }}</option>
        </select>
      </div>
      <button type="submit" [disabled]="formFiltro.invalid">Filtrar</button>
    </div>
  </form>

  <div class="acciones">
    <button (click)="generarPDF()" [disabled]="datosLibroMayor.length === 0">
      ğŸ“„ Generar PDF
    </button>
  </div>

  <div class="tabla-libro">
    <table *ngIf="datosLibroMayor.length > 0">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>NÂ° Documento</th>
          <th>Cuenta</th>
          <th>Concepto</th>
          <th>DÃ©bito</th>
          <th>CrÃ©dito</th>
          <th>Saldo</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of datosLibroMayor">
          <td>{{ item.fecha }}</td>
          <td>{{ item.numero }}</td>
          <td>{{ item.cuenta }}</td>
          <td>{{ item.concepto }}</td>
          <td>{{ item.debe | number:'1.2-2' }}</td>
          <td>{{ item.haber | number:'1.2-2' }}</td>
          <td>{{ item.saldo | number:'1.2-2' }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr style="font-weight: bold;">
          <td colspan="4" style="text-align: right;">Totales:</td>
          <td>{{ totalDebe | number:'1.2-2' }}</td>
          <td>{{ totalHaber | number:'1.2-2' }}</td>
          <td>{{ totalSaldo | number:'1.2-2' }}</td>
        </tr>
      </tfoot>
    </table>

    <p *ngIf="datosLibroMayor.length === 0" class="mensaje">
      ğŸ” No hay resultados para los filtros seleccionados.
    </p>
  </div>
</div>
