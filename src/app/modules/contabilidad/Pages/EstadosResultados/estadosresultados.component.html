<header>
  <div class="nav-container">
    <div class="navbar-brand">
      <a routerLink="/" class="home-link">
        <mat-icon>home</mat-icon>
        <span>Inicio</span>
      </a>
      <button class="menu-toggle" (click)="menuAbierto = !menuAbierto">
        <mat-icon>menu</mat-icon>
      </button>
    </div>

    <nav [class.abierto]="menuAbierto">
      <ul class="menu">
        <!-- Submen煤 Cuentas -->
        <li class="submenu-container" (click)="toggleSubmenu('codificacion', $event)">
          <a href="">Codificaci贸n</a>
          <ul class="submenu"[class.visible]="submenus.codificacion">
            <li><a routerLink="/contabilidad/agregar-cuenta">Catalogo de Cuentas</a></li>
            <li><a routerLink="/contabilidad/documentos">Documentos Contabilidad</a></li>
            <li><a routerLink="/contabilidad/centro-costos">Centro de Costos</a></li>
          </ul>
        </li>

        <!-- Submen煤 Comprobante -->
        <li class="submenu-container" (click)="toggleSubmenu('transacciones', $event)">
          <a href="">Transacciones</a>
          <ul class="submenu"[class.visible]="submenus.transacciones">
            <li><a routerLink="/contabilidad/asiento-apertura">Asiento de Apertura</a></li>
            <li><a routerLink="/contabilidad/comprobante-egresos">Comprobante de Egresos</a></li>
            <li><a routerLink="/contabilidad/comprobante-ingresos">Comprobante de Ingresos</a></li>
            <li><a routerLink="/contabilidad/transaccion-general">Transacciones Generales</a></li>
            <li><a routerLink="/contabilidad/compras-varias">Compras Varias</a></li>
          </ul>
        </li>

        <!-- Submen煤 Libro Diario -->
        <li class="submenu-container" (click)="toggleSubmenu('libros', $event)">
          <a >Libros Contables</a>
          <ul class="submenu"[class.visible]="submenus.libros">
            <li><a routerLink="/contabilidad/libdiario">Libro Diario</a></li>
            <li><a routerLink="/contabilidad/libmayor">Libro Mayor</a></li>
          </ul>
        </li>

        <!-- Enlaces restantes -->
        <li><a routerLink="/contabilidad/estados">Estados Financieros</a></li>
        <li><a routerLink="/contabilidad/estado-resultados">Estado de Resultados</a></li>
        <li><a routerLink="/contabilidad/balances">Balances de comprobaci贸n</a></li>
      </ul>
    </nav>
  </div>
</header>









<div class="estado-resultados-container">
  <h5>Estado de Resultados</h5>

  <form [formGroup]="formFiltro" (ngSubmit)="generarEstado()" class="form-filtros">
    <div class="form-group">
      <label> Fecha Inicio:</label>
      <input type="date" formControlName="fechaInicio">
    </div>

    <div class="form-group">
      <label> Fecha Fin:</label>
      <input type="date" formControlName="fechaFin">
    </div>

    <button type="submit" [disabled]="formFiltro.invalid">Generar Estado</button>
  </form>

  <div class="acciones">
    <button (click)="generarPDF()" [disabled]="ingresos.length === 0 && gastos.length === 0">
       Generar PDF
    </button>
  </div>

  <!-- Ingresos -->
<div class="tabla-ingresos">
  <h3>Ingresos</h3>
  <table *ngIf="ingresos.length > 0">
    <thead>
      <tr>
        <th>C贸digo</th>
        <th>Cuenta</th>
        <th>Valor</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let registro of ingresos">
        <td>{{ registro.codigo }}</td>
        <td>{{ registro.descripcion }}</td>
        <td>{{ registro.valor | number: '1.2-2' }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="2" style="text-align: right; font-weight: bold;">Total Ingresos:</td>
        <td style="font-weight: bold;">{{ totalIngresos | number: '1.2-2' }}</td>
      </tr>
    </tfoot>
  </table>
</div>

<!-- Gastos -->
<div class="tabla-gastos" style="margin-top: 2rem;">
  <h3>Gastos</h3>
  <table *ngIf="gastos.length > 0">
    <thead>
      <tr>
        <th>C贸digo</th>
        <th>Cuenta</th>
        <th>Valor</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let registro of gastos">
        <td>{{ registro.codigo }}</td>
        <td>{{ registro.descripcion }}</td>
        <td>{{ registro.valor | number: '1.2-2' }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="2" style="text-align: right; font-weight: bold;">Total Gastos:</td>
        <td style="font-weight: bold;">{{ totalGastos | number: '1.2-2' }}</td>
      </tr>
    </tfoot>
  </table>
</div>

<!-- Resultado Neto -->
<div class="resultado-neto" style="margin-top: 2rem; text-align: center;">
  <h4>Resultado Neto: {{ totalNeto | number: '1.2-2' }}</h4>
</div>
