<h2>Nuevo Registro</h2>

<form (ngSubmit)="enviar()" #form="ngForm">
  <!-- Nombre y Unidad -->
  <div class="row">
    <div class="form-group">
      <label for="nombre">Nombre:</label>
      <input
        id="nombre"
        list="usuariosList"
        [(ngModel)]="nombreBuscado"
        name="nombre"
        (input)="actualizarUsuarioSeleccionado()"
        placeholder="Escriba un nombre"
        required
      />
      <datalist id="usuariosList">
        <option *ngFor="let u of usuarios" [value]="u.nombre"></option>
      </datalist>
    </div>

    <div class="form-group">
      <label>Unidad:</label>
      <input type="text" [value]="usuarioSeleccionado?.unidad || ''" readonly />
    </div>
  </div>

  <!-- Administración y Minutos Base -->
  <div class="row">
    <div class="form-group">
      <label>Administración:</label>
      <input
        type="number"
        name="administracion"
        [(ngModel)]="reporte.administracion"
        required
      />
    </div>

    <div class="form-group">
      <label>Minutos Base:</label>
      <input
        type="number"
        name="minutosBase"
        [(ngModel)]="reporte.minutosBase"
        required
      />
    </div>
  </div>

  <!-- Minutos Atraso y Multas -->
  <div class="row">
    <div class="form-group">
      <label>Minutos Atraso:</label>
      <input
        type="number"
        name="minutosAtraso"
        [(ngModel)]="reporte.minutosAtraso"
        required
      />
    </div>

    <div class="form-group">
      <label>Multas:</label>
      <input
        type="number"
        name="multas"
        [(ngModel)]="reporte.multas"
        required
      />
    </div>
  </div>

  <!-- Botones -->
  <div class="row acciones-formulario">
    <button type="submit">Guardar</button>
    <button type="button" (click)="cancelar()">Cancelar</button>
  </div>
</form>

<p *ngIf="resultado">✅ Reporte guardado con ID: {{ resultado }}</p>
